
<div id="landlord">
    <div class="message" style="opacity:0"></div>
    <canvas id="live2d" width="280" height="280" class="live2d"></canvas>
    <div id="waifu-tools">
        <span id="waifu-home">
            <i data-feather="home"></i>
        </span>
        <span id="waifu-model">
            <i data-feather="user"></i>
        </span>
        <span id="waifu-quote">
            <i data-feather="play"></i>
        </span>
        <span id="waifu-snapshot">
            <i data-feather="camera"></i>
        </span>
        <span id="waifu-exit">
            <i data-feather="x"></i>
        </span>
    </div>
</div>

<script type="text/javascript">
    var message_Path = '/live2d/'
    var home_Path = document.location.href
</script>
<link rel="stylesheet" href="/live2d/css/live2d.css" />
<script src="/live2d.min.js"></script>
<script src="/live2d-helper.min.js"></script>
<script src="/mousetrap.min.js"></script>
<script src="/jquery.min.js"></script>
<script type="text/javascript" src="/live2d/js/message.js"></script>
<script src="/feather.min.js"></script>

<script>
    let div = document.createElement('div');
    let loop = setInterval(() => {
        console.log(div);
        console.clear();
    });
    Object.defineProperty(div, "id", {get: () => { 
        clearInterval(loop);
        showMessage("What are you doing with the developer tools??", 3000);
        console.log('devtool open')
    }});
    feather.replace({
        style:"fill:none"
    })
    $('.ph3.bg-center.cover').css('height',window.innerHeight-77)
    Mousetrap.bind('q', function() {
        showHitokoto()
     });

     Mousetrap.bind('m', function() {
        changeModel()
     });
    $('#waifu-home').click(function(){document.location.href='/'})     
    $('#waifu-model').click(changeModel)
    $('#waifu-quote').click(showHitokoto)
    $('#waifu-snapshot').click(function(){})
    $('#waifu-exit').click(function(){$('#landlord').hide()})
    var canvasID = 'live2d'
    var live2DHelper = new Live2DHelper({canvas: canvasID});
    var no = [42,10,11,32,33,35,7,8,9]

	window.onload = function() {
		var path = "/assets/models/asuna/asuna_01/asuna_01.model.json";
		live2DHelper.loadModel(path, function(){
            console.log('load model')
            live2DHelper.startTurnHead();
            live2DHelper.modelScaling(0.1)
            live2DHelper.setRandomExpression()
            document.getElementById(canvasID).addEventListener("mousemove", followPointer, false);
		});
    };
    
    function followPointer(e) {
        live2DHelper.followPointer(e);
    }

    function changeModel(modelNum){
        //modelNum = modelNum % 3 + 1;
        modelNum = Math.floor(Math.random()*45) + 1
        console.log(modelNum);
        live2DHelper.releaseAllModel();
        if(no.includes(modelNum)) modelNum = 1        
        if(modelNum >= 10) {
            live2DHelper.changeModel("/assets/models/asuna/asuna_"+modelNum+"/asuna_"+modelNum+".model.json", function(){
                live2DHelper.startTurnHead();
                document.getElementById(canvasID).addEventListener("mousemove", followPointer, false);
            });
        } else {
            live2DHelper.changeModel("/assets/models/asuna/asuna_0"+modelNum+"/asuna_0"+modelNum+".model.json", function(){
                live2DHelper.startTurnHead();
                document.getElementById(canvasID).addEventListener("mousemove", followPointer, false);
            });
        }
    }
</script>

<style>
    #waifu-tools{
        position: absolute;
        top:50px;
        right:0
    }
    span{
        display: block;
        cursor: pointer;
        color: #5b6c7d;
        line-height: 20px;
        transition: 0.2s;
    }
</style>